–ù–æ–≤–∞—è —Å —Ä–∞–±–æ—Ç–∞–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∞–º–∏ 

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏–π –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞:

1. **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Trial** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø–æ –∫—É–ª—å—Ç—É—Ä–µ
2. **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ TrialParticipant** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
3. **–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
4. **–£–ª—É—á—à–µ–Ω bulk_entry** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∑–∞–ø–∏—Å—è–º–∏

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏—Å–ø—ã—Ç–∞–Ω–∏—è

### 1Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è (Trial)

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
```python
POST /api/v1/trials/
{
  "region": 1,
  "culture": 2,  // –ü—à–µ–Ω–∏—Ü–∞
  "start_date": "2025-04-15",
  "participants": [...]
}
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –í–°–ï –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è –∫—É–ª—å—Ç—É—Ä—ã (–æ—Å–Ω–æ–≤–Ω—ã–µ + –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ)
- ‚úÖ –ü—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ `trial.indicators` (ManyToMany)
- ‚úÖ –í–∫–ª—é—á–∞—é—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (`is_universal=True`)

**–ö–æ–¥:** `trials_app/serializers.py` —Å—Ç—Ä–æ–∫–∏ 439-454

---

### 2Ô∏è‚É£ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (TrialParticipant)

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
```python
POST /api/v1/trial-participants/add-participants/
{
  "trial": 10,
  "participants": [
    {
      "sort_record": 5,
      "participant_number": 1,
      "statistical_group": 0  // –°—Ç–∞–Ω–¥–∞—Ä—Ç
    },
    {
      "sort_record": 8,
      "participant_number": 2,
      "statistical_group": 1  // –ò—Å–ø—ã—Ç—ã–≤–∞–µ–º—ã–π
    }
  ]
}
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –ö–ê–ñ–î–û–ì–û —É—á–∞—Å—Ç–Ω–∏–∫–∞:**
- ‚úÖ –°–æ–∑–¥–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–µ `TrialResult` –¥–ª—è **–û–°–ù–û–í–ù–´–•** –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π (`is_quality=False`)
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã: —É—Ä–æ–∂–∞–π–Ω–æ—Å—Ç—å, –≤—ã—Å–æ—Ç–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π, —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –ø–æ–ª–µ–≥–∞–Ω–∏—é
- ‚úÖ –ü–æ–ª—è `value`, `plot_1-4`, `text_value` = `null` (–∑–∞–ø–æ–ª–Ω–∏—Ç —Å–æ—Ä—Ç–æ–ø—ã—Ç)

**–§—É–Ω–∫—Ü–∏—è:** `create_basic_trial_results()` –≤ `serializers.py` —Å—Ç—Ä–æ–∫–∏ 13-50

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:**
- `serializers.py` —Å—Ç—Ä–æ–∫–∞ 567 (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ API)
- `views.py` —Å—Ç—Ä–æ–∫–∞ 1130 (–ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)

---

### 3Ô∏è‚É£ –†–∞–±–æ—Ç–∞ —Å–æ—Ä—Ç–æ–ø—ã—Ç–∞ (–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)

**–°–æ—Ä—Ç–æ–ø—ã—Ç –∑–∞–ø–æ–ª–Ω—è–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
```python
POST /api/v1/trial-results/bulk-entry/
{
  "participant": 5,
  "measurement_date": "2025-09-15",
  "data": [
    {
      "indicator": 1,  // –£—Ä–æ–∂–∞–π–Ω–æ—Å—Ç—å
      "plots": [45.2, 46.8, 44.5, 45.9]  // –ü–æ –¥–µ–ª—è–Ω–∫–∞–º
    },
    {
      "indicator": 2,  // –í—ã—Å–æ—Ç–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π
      "value": 95.5  // –°—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    },
    {
      "indicator": 3,  // –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –ø–æ–ª–µ–≥–∞–Ω–∏—é
      "value": 5,
      "text_value": "–í—ã—Å–æ–∫–∞—è"
    }
  ]
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- ‚úÖ –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ `TrialResult` (—Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—É—Å—Ç—ã–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –¥–µ–ª—è–Ω–∫–∏ (`plots`) –∏–ª–∏ –∏—Ç–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (`value`)

**–ö–æ–¥:** `views.py` —Å—Ç—Ä–æ–∫–∏ 1229-1263

---

### 4Ô∏è‚É£ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
```python
POST /api/v1/trials/{id}/mark-sent-to-lab/
{
  "laboratory_code": "LAB-2025-001-ALM",
  "sample_weight_kg": 2.5,
  "sent_date": "2025-10-01",
  "sample_source": "–û–±—Ä–∞–∑–µ—Ü –∏–∑ –¥–µ–ª—è–Ω–∫–∏ ‚Ññ2"
}
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –í–°–ï–• —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:**
- ‚úÖ –°–æ–∑–¥–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–µ `TrialResult` –¥–ª—è **–ö–ê–ß–ï–°–¢–í–ï–ù–ù–´–•** –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π (`is_quality=True`)
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã: –±–µ–ª–æ–∫, –∫–ª–µ–π–∫–æ–≤–∏–Ω–∞, –Ω–∞—Ç—É—Ä–∞ –∑–µ—Ä–Ω–∞, –∫—Ä–∞—Ö–º–∞–ª–∏—Å—Ç–æ—Å—Ç—å
- ‚úÖ –°—Ç–∞—Ç—É—Å –∏—Å–ø—ã—Ç–∞–Ω–∏—è ‚Üí `lab_sample_sent`

**–§—É–Ω–∫—Ü–∏—è:** `create_quality_trial_results()` –≤ `serializers.py` —Å—Ç—Ä–æ–∫–∏ 53-92

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `views.py` —Å—Ç—Ä–æ–∫–∞ 916

---

### 5Ô∏è‚É£ –†–∞–±–æ—Ç–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏

**–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –∑–∞–ø–æ–ª–Ω—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
```python
POST /api/v1/trial-results/bulk-entry/
{
  "participant": 5,
  "measurement_date": "2025-10-10",
  "data": [
    {
      "indicator": 10,  // –ë–µ–ª–æ–∫
      "value": 14.2
    },
    {
      "indicator": 11,  // –ö–ª–µ–π–∫–æ–≤–∏–Ω–∞
      "value": 28.5
    },
    {
      "indicator": 12,  // –ù–∞—Ç—É—Ä–∞ –∑–µ—Ä–Ω–∞
      "value": 785
    }
  ]
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- ‚úÖ –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ `TrialResult` (—Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—É—Å—Ç—ã–º–∏
- ‚úÖ –ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å ‚Üí `lab_completed`

---

## üìä –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–°–æ—Ä—Ç–æ–ø—ã—Ç)
**–ü–æ–ª–µ:** `is_quality = False`

**–ü—Ä–∏–º–µ—Ä—ã:**
- –£—Ä–æ–∂–∞–π–Ω–æ—Å—Ç—å (—Ü/–≥–∞)
- –í—ã—Å–æ—Ç–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π (—Å–º)
- –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –ø–æ–ª–µ–≥–∞–Ω–∏—é (–±–∞–ª–ª—ã)
- –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –±–æ–ª–µ–∑–Ω—è–º (–±–∞–ª–ª—ã)
- –î–∞—Ç–∞ –≤—Å—Ö–æ–¥–æ–≤, —Ü–≤–µ—Ç–µ–Ω–∏—è, —Å–æ–∑—Ä–µ–≤–∞–Ω–∏—è
- –ú–∞—Å—Å–∞ 1000 –∑–µ—Ä–µ–Ω (–≥)

**–ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `TrialParticipant`

**–ö—Ç–æ –∑–∞–ø–æ–ª–Ω—è–µ—Ç:** –°–æ—Ä—Ç–æ–ø—ã—Ç –≤ –ø–æ–ª–µ

---

### –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è)
**–ü–æ–ª–µ:** `is_quality = True`

**–ü—Ä–∏–º–µ—Ä—ã:**
- –ë–µ–ª–æ–∫ (%)
- –ö–ª–µ–π–∫–æ–≤–∏–Ω–∞ (%)
- –ù–∞—Ç—É—Ä–∞ –∑–µ—Ä–Ω–∞ (–≥/–ª)
- –ö—Ä–∞—Ö–º–∞–ª–∏—Å—Ç–æ—Å—Ç—å (%)
- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –º–∞—Å–ª–∞ (%)
- –í–∏—Ç–∞–º–∏–Ω –° (–º–≥)

**–ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è:** –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é (`mark_sent_to_lab`)

**–ö—Ç–æ –∑–∞–ø–æ–ª–Ω—è–µ—Ç:** –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### `create_basic_trial_results(participant, created_by)`
```python
# –ì–¥–µ: trials_app/serializers.py —Å—Ç—Ä–æ–∫–∏ 13-50
# –°–æ–∑–¥–∞–µ—Ç –ø—É—Å—Ç—ã–µ TrialResult –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
#   - participant: TrialParticipant instance
#   - created_by: User who creates the results
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: list —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö TrialResult
```

#### `create_quality_trial_results(trial, created_by)`
```python
# –ì–¥–µ: trials_app/serializers.py —Å—Ç—Ä–æ–∫–∏ 53-92
# –°–æ–∑–¥–∞–µ—Ç –ø—É—Å—Ç—ã–µ TrialResult –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
#   - trial: Trial instance
#   - created_by: User who creates the results
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: list —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö TrialResult
```

---

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ indicators –ø–æ –∫—É–ª—å—Ç—É—Ä–µ

**–õ–æ–≥–∏–∫–∞:** `trials_app/serializers.py` —Å—Ç—Ä–æ–∫–∏ 439-454

```python
# –ï—Å–ª–∏ indicators –Ω–µ —É–∫–∞–∑–∞–Ω—ã —è–≤–Ω–æ, –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
if not indicators and trial.culture:
    auto_indicators = Indicator.objects.filter(
        Q(cultures=trial.culture) | Q(is_universal=True),
        is_deleted=False
    ).distinct()
    
    trial.indicators.set(auto_indicators)
```

---

### –£–ª—É—á—à–µ–Ω–∏—è bulk_entry

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:** `trials_app/views.py` —Å—Ç—Ä–æ–∫–∏ 1229-1263

```python
# –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∑–∞–ø–∏—Å—è–º–∏
result, created = TrialResult.objects.get_or_create(
    participant=participant,
    indicator_id=indicator_id,
    defaults={
        'trial': participant.trial,
        'sort_record': participant.sort_record,
        'measurement_date': measurement_date,
        'created_by': request.user
    }
)

# –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ–ª—è–Ω–æ–∫ –ò–õ–ò –∏—Ç–æ–≥–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
if 'plots' in item:
    result.plot_1 = item['plots'][0]
    result.plot_2 = item['plots'][1]
    result.plot_3 = item['plots'][2]
    result.plot_4 = item['plots'][3]
elif 'value' in item:
    result.value = item['value']
    # –û—á–∏—â–∞–µ–º –¥–µ–ª—è–Ω–∫–∏ –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏—Ç–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    result.plot_1 = None
    result.plot_2 = None
    result.plot_3 = None
    result.plot_4 = None
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è –ø—à–µ–Ω–∏—Ü—ã

```python
# 1. –°–æ–∑–¥–∞—Ç—å –∏—Å–ø—ã—Ç–∞–Ω–∏–µ
POST /api/v1/trials/
{
  "region": 5,
  "culture": 2,  // –ü—à–µ–Ω–∏—Ü–∞
  "start_date": "2025-04-15",
  "trial_type": 1,
  "participants": [
    {
      "sort_record": 10,  // –ê–∫–º–æ–ª–∞ 2 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
      "participant_number": 1,
      "statistical_group": 0
    },
    {
      "sort_record": 15,  // –ù–æ–≤–∏–Ω–∫–∞ (–∏—Å–ø—ã—Ç—ã–≤–∞–µ–º—ã–π)
      "participant_number": 2,
      "statistical_group": 1
    }
  ]
}

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ Trial —Å–æ–∑–¥–∞–Ω–æ
# ‚úÖ Indicators –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–ª—è –ø—à–µ–Ω–∏—Ü—ã (10 –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π)
# ‚úÖ 2 —É—á–∞—Å—Ç–Ω–∏–∫–∞ —Å–æ–∑–¥–∞–Ω—ã
# ‚úÖ 20 –ø—É—Å—Ç—ã—Ö TrialResult —Å–æ–∑–¥–∞–Ω—ã (2 —É—á–∞—Å—Ç–Ω–∏–∫–∞ √ó 10 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π)
```

---

### –ü—Ä–∏–º–µ—Ä 2: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ä—Ç–æ–ø—ã—Ç–æ–º

```python
POST /api/v1/trial-results/bulk-entry/
{
  "participant": 50,  // –ê–∫–º–æ–ª–∞ 2
  "measurement_date": "2025-09-20",
  "data": [
    {
      "indicator": 1,  // –£—Ä–æ–∂–∞–π–Ω–æ—Å—Ç—å
      "plots": [42.5, 43.8, 41.9, 43.2]
    },
    {
      "indicator": 2,  // –í—ã—Å–æ—Ç–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π
      "value": 92
    },
    {
      "indicator": 3,  // –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –ø–æ–ª–µ–≥–∞–Ω–∏—é
      "value": 5
    }
    // –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–º–∏
  ]
}

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ 3 –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã
# ‚úÖ 7 –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –æ—Å—Ç–∞–ª–∏—Å—å –ø—É—Å—Ç—ã–º–∏ (–º–æ–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∑–∂–µ)
```

---

### –ü—Ä–∏–º–µ—Ä 3: –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é

```python
POST /api/v1/trials/10/mark-sent-to-lab/
{
  "laboratory_code": "LAB-2025-042-ALM",
  "sample_weight_kg": 2.0,
  "sent_date": "2025-10-01"
}

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ –°—Ç–∞—Ç—É—Å ‚Üí lab_sample_sent
# ‚úÖ 6 –ø—É—Å—Ç—ã—Ö TrialResult —Å–æ–∑–¥–∞–Ω—ã (2 —É—á–∞—Å—Ç–Ω–∏–∫–∞ √ó 3 –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è)
# ‚úÖ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–±–æ—Ç—É
```

---

### –ü—Ä–∏–º–µ—Ä 4: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–µ–π

```python
POST /api/v1/trial-results/bulk-entry/
{
  "participant": 50,  // –ê–∫–º–æ–ª–∞ 2
  "measurement_date": "2025-10-08",
  "data": [
    {
      "indicator": 10,  // –ë–µ–ª–æ–∫
      "value": 13.8
    },
    {
      "indicator": 11,  // –ö–ª–µ–π–∫–æ–≤–∏–Ω–∞
      "value": 26.5
    },
    {
      "indicator": 12,  // –ù–∞—Ç—É—Ä–∞ –∑–µ—Ä–Ω–∞
      "value": 780
    }
  ]
}

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
# ‚úÖ –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –≤ —Å—Ç–∞—Ç—É—Å lab_completed
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –î–ª—è —Å–æ—Ä—Ç–æ–ø—ã—Ç–æ–≤:
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- ‚úÖ –°—Ä–∞–∑—É –≤–∏–¥–Ω–æ –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å
- ‚úÖ –ú–æ–∂–Ω–æ –∑–∞–ø–æ–ª–Ω—è—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º–∏)

### –î–ª—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏:
- ‚úÖ –ì–æ—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –ß–µ—Ç–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–∞–∫–∏—Ö –∞–Ω–∞–ª–∏–∑–æ–≤ –∂–¥—É—Ç
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –≤–Ω–µ—Å–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –î–ª—è —Å–∏—Å—Ç–µ–º—ã:
- ‚úÖ –ï–¥–∏–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –õ–µ–≥–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å (–∑–∞–ø–æ–ª–Ω–µ–Ω–æ/–Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Ç—ã –¥–∞–Ω–Ω—ã—Ö

---

## üìö API Reference

### –ü–æ–ª—É—á–∏—Ç—å –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è –∫—É–ª—å—Ç—É—Ä—ã

```http
GET /api/v1/indicators/?culture_id=2
GET /api/v1/indicators/?culture_id=2&is_quality=false  # –¢–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ
GET /api/v1/indicators/?culture_id=2&is_quality=true   # –¢–æ–ª—å–∫–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ
```

### –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —É—á–∞—Å—Ç–Ω–∏–∫–∞

```http
GET /api/v1/trial-results/?participant=50
```

### –ú–∞—Å—Å–æ–≤–æ–µ –≤–Ω–µ—Å–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```http
POST /api/v1/trial-results/bulk-entry/
{
  "participant": 50,
  "measurement_date": "2025-09-20",
  "data": [...]
}
```

### –û—Ç–º–µ—Ç–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é

```http
POST /api/v1/trials/{id}/mark-sent-to-lab/
{
  "laboratory_code": "LAB-2025-042-ALM",
  "sample_weight_kg": 2.0,
  "sent_date": "2025-10-01"
}
```

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã –∏—Å–ø—ã—Ç–∞–Ω–∏—é

```python
trial = Trial.objects.get(id=10)
print("–í—Å–µ–≥–æ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π:", trial.indicators.count())
print("–û—Å–Ω–æ–≤–Ω—ã–µ:", trial.indicators.filter(is_quality=False).count())
print("–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ:", trial.indicators.filter(is_quality=True).count())
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ

```python
participant = TrialParticipant.objects.get(id=50)
results = participant.results.filter(is_deleted=False)
print("–í—Å–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:", results.count())
print("–ó–∞–ø–æ–ª–Ω–µ–Ω–æ:", results.exclude(value__isnull=True).count())
print("–ü—É—Å—Ç—ã—Ö:", results.filter(value__isnull=True).count())
```



